var basic_params=["value","currency","predicted_ltv","content_name","content_type","content_ids","content_category","search_string","num_items","status","custom"],supported_params={AddPaymentInfo:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:0,content_ids:1,content_category:1,search_string:0,num_items:0,status:0,custom:1},AddToCart:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:1,search_string:0,num_items:0,status:0,custom:1},AddToWishlist:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:0,content_ids:1,content_category:1,search_string:0,num_items:0,status:0,custom:1},CompleteRegistration:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:1,custom:1},Contact:{value:0,currency:0,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},CustomizeProduct:{value:0,currency:0,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},Donate:{value:0,currency:0,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},FindLocation:{value:0,currency:0,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},InitiateCheckout:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:0,content_ids:1,content_category:1,search_string:0,num_items:1,status:0,custom:1},Lead:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},Purchase:{value:2,currency:2,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:1,search_string:0,num_items:1,status:0,custom:1},Schedule:{value:0,currency:0,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},Search:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:1,search_string:1,num_items:0,status:0,custom:1},StartTrial:{value:1,currency:1,predicted_ltv:1,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},SubmitApplication:{value:0,currency:0,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},Subscribe:{value:1,currency:1,predicted_ltv:1,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},ViewContent:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:1,search_string:0,num_items:0,status:0,custom:1},ViewContentTiktok:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToCartTiktok:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToWishlistTiktok:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:1,search_string:0,num_items:0,status:0,custom:1},InitiateCheckoutTiktok:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:1,search_string:0,num_items:1,status:0,custom:1},AddPaymentInfoTiktok:{value:1,currency:1,predicted_ltv:0,content_name:0,content_type:1,content_ids:1,content_category:1,search_string:0,num_items:0,status:0,custom:1},PurchaseTiktok:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:1,status:0,custom:1},CompleteRegistrationTiktok:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:1,custom:1},ViewContentPinterest:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToCartPinterest:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:0,status:0,custom:1},PurchasePinterest:{value:2,currency:2,predicted_ltv:0,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:1,status:0,custom:1},LeadPinterest:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},CompleteRegistrationPinterest:{value:1,currency:1,predicted_ltv:0,content_name:1,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:1,custom:1},ViewContentSnapchat:{value:0,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},PurchaseSnapchat:{value:0,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToCartSnapchat:{value:0,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToWishlistSnapchat:{value:0,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},InitiateCheckoutSnapchat:{value:0,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddPaymentInfoSnapchat:{value:0,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddPaymentInfoGA:{value:1,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToCartGA:{value:1,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToWishlistGA:{value:1,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},InitiateCheckoutGA:{value:1,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},ViewContentGA:{value:1,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},PurchaseGA:{value:1,currency:1,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},custom:{value:0,currency:0,predicted_ltv:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1}},time_delay_events=["ViewContent","custom"];jQuery(document).ready(function(t){function e(e){var c=["ViewContent","Lead","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","CompleteRegistration","Contact","CustomizeProduct","Donate","FindLocation","Schedule","StartTrial","Subscribe","SubmitApplication","custom"];switch(e){case"Google Analytics":c=["ViewContentGA","AddToCartGA","AddToWishlistGA","InitiateCheckoutGA","AddPaymentInfoGA","PurchaseGA","custom"];break;case"TikTok":c=["ViewContentTiktok","AddToCartTiktok","AddToWishlistTiktok","InitiateCheckoutTiktok","AddPaymentInfoTiktok","PurchaseTiktok","CompleteRegistrationTiktok","custom"];break;case"Pinterest":c=["ViewContentPinterest","AddToCartPinterest","PurchasePinterest","CompleteRegistrationPinterest","LeadPinterest","custom"];break;case"Snapchat":c=["ViewContentSnapchat","AddToCartSnapchat","AddToWishlistSnapchat","InitiateCheckoutSnapchat","AddPaymentInfoSnapchat","PurchaseSnapchat"]}t("#fca-pc-modal-event-input option").each(function(){-1!==c.indexOf(t(this).attr("value"))?t(this).show():t(this).hide()})}function c(){t(".fca_delete_icon_confirm").off("click"),t(".fca_delete_icon_confirm").on("click",function(e){d=!0,e.stopPropagation(),t(this).closest(".fca_deletable_item").hide("fast",function(){t(this).remove()})}),t(".fca_controls_icon_pixel_pause").off("click"),t(".fca_controls_icon_pixel_pause").on("click",function(e){e.stopPropagation(),d=!0;var c=t(this).closest(".fca_pc_pixel_row").find(".fca-pc-pixel-json"),a=JSON.parse(c.val());a.paused=!0,c.val(JSON.stringify(a)),t(this).closest("tr").addClass("paused"),t(this).hide().siblings(".fca_controls_icon_pixel_play").show()}),t(".fca_controls_icon_pixel_play").off("click"),t(".fca_controls_icon_pixel_play").on("click",function(e){e.stopPropagation(),d=!0;var c=t(this).closest(".fca_pc_pixel_row").find(".fca-pc-pixel-json"),a=JSON.parse(c.val());a.paused=!1,c.val(JSON.stringify(a)),t(this).closest("tr").removeClass("paused"),t(this).hide().siblings(".fca_controls_icon_pixel_pause").show()}),t(".fca_controls_icon_pause").off("click"),t(".fca_controls_icon_pause").on("click",function(e){e.stopPropagation(),d=!0;var c=t(this).closest(".fca_pc_event_row").find(".fca-pc-json"),a=JSON.parse(c.val());a.paused=!0,c.val(JSON.stringify(a)),t(this).closest("tr").addClass("paused"),t(this).hide().siblings(".fca_controls_icon_play").show()}),t(".fca_controls_icon_play").off("click"),t(".fca_controls_icon_play").on("click",function(e){e.stopPropagation(),d=!0;var c=t(this).closest(".fca_pc_event_row").find(".fca-pc-json"),a=JSON.parse(c.val());a.paused=!1,c.val(JSON.stringify(a)),t(this).closest("tr").removeClass("paused"),t(this).hide().siblings(".fca_controls_icon_pause").show()}),t(".fca_delete_icon_cancel").off("click"),t(".fca_delete_icon_cancel").on("click",function(e){e.stopPropagation(),t(this).hide(),t(this).siblings(".fca_delete_icon").hide(),t(this).siblings(".fca_delete_button").show()}),t(".fca_delete_button").off("click"),t(".fca_delete_button").on("click",function(e){e.stopPropagation(),t(this).hide().siblings(".fca_delete_icon").show()}),t(".fca_pc_pixel_row").off("click"),t(".fca_pc_pixel_row").on("click",function(){t("#fca-pc-pixel-save").data("pixelID",t(this).attr("ID"));var e=JSON.parse(t(this).find(".fca-pc-pixel-json").val());switch(e.type){case"Conversions API":t("#fca-pc-modal-pixel-input").val(e.pixel),t("#fca-pc-modal-capi-input").val(e.capi),t("#fca-pc-modal-test-input").val(e.test);break;case"GA3":t("#fca-pc-ga3-input-tr").show(),t("#fca-pc-modal-ga3-input").val(e.pixel);break;case"GA4":t("#fca-pc-modal-ga4-input").val(e.pixel);break;case"Adwords":t("#fca-pc-modal-adwords-input").val(e.pixel);break;case"Pinterest":t("#fca-pc-modal-pinterest-input").val(e.pixel);break;case"Snapchat":t("#fca-pc-modal-snapchat-input").val(e.pixel);break;case"TikTok":t("#fca-pc-modal-tiktok-input").val(e.pixel);break;case"Custom Header Script":t("#fca-pc-modal-header-code").val(o(e.capi));break;default:t("#fca-pc-modal-pixel-input").val(e.pixel)}t("#fca-pc-modal-type-select").val(e.type).trigger("change"),t("#fca-pc-pixel-excluded-pages").val(e.excludes).trigger("change"),t("#fca-pc-pixel-modal").show(),t("#fca-pc-overlay").show()}),t(".fca_pc_event_row").off("click"),t(".fca_pc_event_row").on("click",function(){t("#fca-pc-event-save").data("eventID",t(this).attr("ID")),function(c){if(t("#fca_pc_custom_param_table").find(".fca_delete_icon_confirm").trigger("click"),supported_params.hasOwnProperty(c.event)){t("#fca-pc-modal-event-input").val(c.event).trigger("change");for(var a=0;a<basic_params.length;a++)c.parameters.hasOwnProperty(basic_params[a])?t(".fca-pc-"+basic_params[a]).val(c.parameters[basic_params[a]]):t(".fca-pc-"+basic_params[a]).val("");for(var n in c.parameters)-1===basic_params.indexOf(n)&&(t("#fca-pc-add-custom-param").trigger("click"),t(".fca-pc-input-parameter-name").last().val(n),t(".fca-pc-input-parameter-value").last().val(c.parameters[n]))}else{t("#fca-pc-modal-event-input").val("custom").trigger("change"),t(".fca-pc-event_name").val(c.event);for(var n in c.parameters)t("#fca-pc-add-custom-param").trigger("click"),t(".fca-pc-input-parameter-name").last().val(n),t(".fca-pc-input-parameter-value").last().val(c.parameters[n])}var i=c.hasOwnProperty("delay")?c.delay:0;t("#fca-pc-modal-delay-input").val(i);var o=c.hasOwnProperty("scroll")?c.scroll:0;switch(t("#fca-pc-modal-scroll-input").val(o),t("#fca-pc-modal-trigger-type-input").val(c.triggerType).trigger("change"),c.triggerType){case"post":t("#fca-pc-modal-post-trigger-input").children().each(function(){-1!==c.trigger.indexOf(t(this).val())?t(this).prop("selected",!0):t(this).prop("selected",!1)}).trigger("change");break;case"css":case"hover":t("#fca-pc-modal-css-trigger-input").val(c.trigger);break;case"url":t("#fca-pc-modal-url-trigger-input").val(c.trigger);break;case"exact_url":t("#fca-pc-modal-exact_url-trigger-input").val(c.trigger)}var p=c.hasOwnProperty("pixel_type")?c.pixel_type:"Facebook";t("#fca-pc-modal-event-pixel-type").val(p),t("#fca-pc-event-pixel-type-span").text(p),e(p)}(JSON.parse(t(this).find(".fca-pc-json").val())),t("#fca-pc-event-modal").show(),t("#fca-pc-overlay").show()}),t(".fca_delete_icon, .fca_controls_icon").not(".tooltipstered").tooltipster({contentAsHTML:!0,theme:["tooltipster-borderless","tooltipster-pixel-cat"]})}function a(){var e=[];t("#fca_pc_new_fb_event").hide(),t("#fca_pc_new_ga_event").hide(),t("#fca_pc_new_snapchat_event").hide(),t("#fca_pc_new_pinterest_event").hide(),t("#fca_pc_new_tiktok_event").hide(),t(".fca-pc-pixel-json").each(function(){var c=JSON.parse(t(this).val());e.push(c.type)}),-1===e.indexOf("GA3")&&-1===e.indexOf("GA4")&&-1===e.indexOf("Adwords")||t("#fca_pc_new_ga_event").show(),-1!==e.indexOf("Pinterest")&&t("#fca_pc_new_pinterest_event").show(),-1!==e.indexOf("Snapchat")&&t("#fca_pc_new_snapchat_event").show(),-1!==e.indexOf("TikTok")&&t("#fca_pc_new_tiktok_event").show(),-1===e.indexOf("Facebook Pixel")&&-1===e.indexOf("Conversions API")||t("#fca_pc_new_fb_event").show()}function n(e,a){if(fcaPcAdminData.debug&&console.log(e,a),e){e.attr("id",a.ID);n=a.type;if("GA3"===a.type&&(n="Google Analytics (GA3)"),"GA4"===a.type&&(n="Google Analytics (GA4)"),"Adwords"===a.type&&(n="Google Ads"),e.find(".fca-pc-type-td").text(n),e.find(".fca-pc-pixel-td").text(o(a.pixel)),e.removeClass("paused"),e.find(".fca_controls_icon_pixel_play").hide().siblings(".fca_controls_icon_pixel_pause").show(),a.paused&&(e.addClass("paused"),e.find(".fca_controls_icon_pixel_pause").hide().siblings(".fca_controls_icon_pixel_play").show()),a.test){var n;(n=e.find(".fca-pc-type-td")).text(n.text()+" (test mode active)")}}else t("#fca-pc-pixels").append(fcaPcAdminData.pixelTemplate.replace("{{TYPE}}",a.type).replace("{{PIXEL}}",a.pixel).replace("{{TEST}}",a.test).replace("{{ID}}",a.ID)),c();t("#"+a.ID).find(".fca-pc-pixel-json").val(JSON.stringify(a))}function i(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function o(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&")}function p(e,a){fcaPcAdminData.debug&&console.log(e,a);var n=a.hasOwnProperty("pixel_type")?a.pixel_type:"Facebook";e?(e.attr("id",a.ID),e.find(".fca-pc-event-pixel-td").text(n),e.find(".fca-pc-event-td").text(a.event),e.find(".fca-pc-trigger-td").text(s(a.trigger)),e.removeClass("paused"),e.find(".fca_controls_icon_play").hide().siblings(".fca_controls_icon_pause").show(),a.paused&&(e.addClass("paused"),e.find(".fca_controls_icon_pause").hide().siblings(".fca_controls_icon_play").show())):(t("#fca-pc-events").append(fcaPcAdminData.eventTemplate.replace("{{EVENT}}",a.event).replace("{{TYPE}}",s(a.pixel_type)).replace("{{TRIGGER}}",s(a.trigger)).replace("{{ID}}",a.ID)),c()),t("#"+a.ID).find(".fca-pc-json").val(JSON.stringify(a))}function s(e){if("string"==typeof e)return e;var c=[];return t("#fca-pc-modal-post-trigger-input option").filter(function(c,a){return-1!==e.indexOf(t(a).val())}).each(function(){c.push(t(this).text())}),c.join(", ")}function r(){var t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,c=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return _[255&t]+_[t>>8&255]+_[t>>16&255]+_[t>>24&255]+"-"+_[255&e]+_[e>>8&255]+"-"+_[e>>16&15|64]+_[e>>24&255]+"-"+_[63&c|128]+_[c>>8&255]+"-"+_[c>>16&255]+_[c>>24&255]+_[255&a]+_[a>>8&255]+_[a>>16&255]+_[a>>24&255]}function l(){var e=[];return t(".fca-pc-pixel-json").each(function(){var c=JSON.parse(t(this).val());e.push(c.type)}),e}fcaPcAdminData.debug&&console.log(fcaPcAdminData),fcaPcAdminData.premium?(0==fcaPcAdminData.woo_active&&t(".fca-pc-woo_extra_params, .fca-pc-woo_delay").prop("checked",!1).prop("disabled",!0).closest("tr").addClass("fca-pc-integration-disabled"),0==fcaPcAdminData.edd_active&&t(".fca-pc-edd_extra_params, .fca-pc-edd_delay").prop("checked",!1).prop("disabled",!0).closest("tr").addClass("fca-pc-integration-disabled")):t(".fca-pc-user_parameters, .fca-pc-utm_support, #fca-pc-cpt_support, #fca-pc-modal-delay-input, #fca-pc-modal-scroll-input, #fca-pc-add-custom-param, .fca-pc-woo_extra_params, .fca-pc-woo_delay, .fca-pc-edd_extra_params, .fca-pc-edd_delay, .fca-pc-advanced_matching, .fca-pc-amp_integration,.fca-pc-video_events,.fca-pc-edd_integration_pinterest,.fca-pc-edd_integration_tiktok,.fca-pc-edd_integration_snapchat,.fca-pc-woo_integration_pinterest,.fca-pc-woo_integration_tiktok,.fca-pc-woo_integration_snapchat,#fca-pc-pixel-excluded-pages").prop("checked",!1).prop("disabled",!0).closest("tr").addClass("fca-pc-integration-disabled"),function(){t(".fca_pc_pixel_row").each(function(){n(t(this),JSON.parse(t(this).find(".fca-pc-pixel-json").val()))});var e=l();t("#fca-pc-modal-type-select option").each(function(){"GA3"===t(this).val()&&(-1!==e.indexOf("GA3")?t(this).show():t(this).hide())})}(),t(".fca_pc_event_row").each(function(){p(t(this),JSON.parse(t(this).find(".fca-pc-json").val()))}),t(".fca_pc_multiselect").select2(),t(".fca-pc-validation-helptext").not(".tooltipstered").tooltipster({trigger:"custom",timer:6e3,maxWidth:350,theme:["tooltipster-borderless","tooltipster-pixel-cat"]}),t(".fca_pc_tooltip, .fca_pc_event_tooltip, .fca_delete_icon, .fca_controls_icon, #fca_pc_new_pixel_id").not(".tooltipstered").tooltipster({contentAsHTML:!0,theme:["tooltipster-borderless","tooltipster-pixel-cat"]}),t("#fca-pc-modal-pixel-input").on("input",function(e){var c=t(this).val();t("#fca-pc-pixel-helptext").tooltipster("hide"),/^\d+$/.test(c)||""===c||(t(this).val(c.replace(/[^0-9\.]+/g,"")),t("#fca-pc-pixel-helptext").tooltipster("open"))}),t("#fca-pc-modal-pinterest-input").on("input",function(e){var c=t(this).val();t("#fca-pc-pinterest-helptext").tooltipster("hide"),/^\d+$/.test(c)||""===c||(t(this).val(c.replace(/[^0-9\.]+/g,"")),t("#fca-pc-pinterest-helptext").tooltipster("open"))}),t("#fca-pc-modal-ga3-input").on("input",function(e){var c=t(this).val();t("#fca-pc-ga3-helptext").tooltipster("hide"),!1===/^([UA-])+(([a-zA-Z0-9]){2,})$/.test(c)&&t("#fca-pc-ga3-helptext").tooltipster("open")}),t("#fca-pc-modal-ga4-input").on("input",function(e){var c=t(this).val();t("#fca-pc-ga4-helptext").tooltipster("hide"),!1===/^([G-])+(([a-zA-Z0-9]){2,})$/.test(c)&&t("#fca-pc-ga4-helptext").tooltipster("open")}),t("#fca-pc-modal-adwords-input").on("input",function(e){var c=t(this).val();t("#fca-pc-adwords-helptext").tooltipster("hide"),!1===/^([G-])+(([a-zA-Z0-9]){2,})$/.test(c)&&t("#fca-pc-adwords-helptext").tooltipster("open")}),t(".fca-pc-nav a").on("click",function(){t(".fca-pc-nav a.selected").removeClass("selected"),t(this).addClass("selected"),t(".fca-pc-nav a").each(function(){t(t(this).data("target")).hide()}),t(t(this).data("target")).show(),t(this).trigger("blur")}),t(".fca-pc-nav a").first().trigger("click"),t(".fca_pc_integrations_table th").on("click",function(){t(this).next().find("input").trigger("click")}),t("#fca_pc_new_fb_event").on("click",function(){t("#fca-pc-event-save").data("eventID",""),t(".fca-pc-content_name").val("{post_title}"),t(".fca-pc-content_type").val("product"),t(".fca-pc-content_ids").val("{post_id}"),t(".fca-pc-content_category").val("{post_category}"),t(".fca-pc-search_string").val(""),t(".fca-pc-num_items").val(""),t(".fca-pc-status").val(""),t(".fca-pc-value").val(""),t(".fca-pc-currency").val(""),t(".fca-pc-predicted_ltv").val(""),t(".fca-pc-event_name").val(""),t("#fca-pc-modal-post-trigger-input").val("").trigger("change"),t("#fca-pc-modal-css-trigger-input").val(""),t("#fca-pc-modal-url-trigger-input").val(""),t("#fca-pc-modal-exact_url-trigger-input").val(""),t("#fca-pc-modal-delay-input").val(0),t("#fca-pc-modal-scroll-input").val(0),e("Facebook"),t("#fca-pc-modal-event-pixel-type").val("Facebook"),t("#fca-pc-event-pixel-type-span").text("Facebook"),t("#fca-pc-modal-event-input").val("ViewContent").trigger("change"),t(".fca-pc-param-toggle").not(":visible").trigger("click"),t("#fca-pc-event-modal").show(),t("#fca-pc-overlay").show()}),t("#fca_pc_new_tiktok_event").on("click",function(){t("#fca-pc-event-save").data("eventID",""),t(".fca-pc-content_name").val("{post_title}"),t(".fca-pc-content_type").val("product"),t(".fca-pc-content_ids").val("{post_id}"),t(".fca-pc-content_category").val("{post_category}"),t(".fca-pc-search_string").val(""),t(".fca-pc-num_items").val(""),t(".fca-pc-status").val(""),t(".fca-pc-value").val(""),t(".fca-pc-currency").val(""),t(".fca-pc-predicted_ltv").val(""),t(".fca-pc-event_name").val(""),t("#fca-pc-modal-post-trigger-input").val("").trigger("change"),t("#fca-pc-modal-css-trigger-input").val(""),t("#fca-pc-modal-url-trigger-input").val(""),t("#fca-pc-modal-exact_url-trigger-input").val(""),t("#fca-pc-modal-delay-input").val(0),t("#fca-pc-modal-scroll-input").val(0),e("TikTok"),t("#fca-pc-modal-event-pixel-type").val("TikTok"),t("#fca-pc-event-pixel-type-span").text("TikTok"),t("#fca-pc-modal-event-input").val("ViewContentTiktok").trigger("change"),t(".fca-pc-param-toggle").not(":visible").trigger("click"),t("#fca-pc-event-modal").show(),t("#fca-pc-overlay").show()}),t("#fca_pc_new_ga_event").on("click",function(){t("#fca-pc-event-save").data("eventID",""),t(".fca-pc-content_name").val("{post_title}"),t(".fca-pc-content_type").val("product"),t(".fca-pc-content_ids").val("{post_id}"),t(".fca-pc-content_category").val("{post_category}"),t(".fca-pc-search_string").val(""),t(".fca-pc-num_items").val(""),t(".fca-pc-status").val(""),t(".fca-pc-value").val(""),t(".fca-pc-currency").val(""),t(".fca-pc-predicted_ltv").val(""),t(".fca-pc-event_name").val(""),t("#fca-pc-modal-post-trigger-input").val("").trigger("change"),t("#fca-pc-modal-css-trigger-input").val(""),t("#fca-pc-modal-url-trigger-input").val(""),t("#fca-pc-modal-exact_url-trigger-input").val(""),t("#fca-pc-modal-delay-input").val(0),t("#fca-pc-modal-scroll-input").val(0),t("#fca-pc-modal-event-pixel-type").val("Google Analytics"),t("#fca-pc-event-pixel-type-span").text("Google Analytics"),e("Google Analytics"),t("#fca-pc-modal-event-input").val("ViewContentGA").trigger("change"),t("#fca-pc-event-modal").show(),t("#fca-pc-overlay").show()}),t("#fca_pc_new_pinterest_event").on("click",function(){t("#fca-pc-event-save").data("eventID",""),t(".fca-pc-content_name").val("{post_title}"),t(".fca-pc-content_type").val("product"),t(".fca-pc-content_ids").val("{post_id}"),t(".fca-pc-content_category").val("{post_category}"),t(".fca-pc-search_string").val(""),t(".fca-pc-num_items").val(""),t(".fca-pc-status").val(""),t(".fca-pc-value").val(""),t(".fca-pc-currency").val(""),t(".fca-pc-predicted_ltv").val(""),t(".fca-pc-event_name").val(""),t("#fca-pc-modal-post-trigger-input").val("").trigger("change"),t("#fca-pc-modal-css-trigger-input").val(""),t("#fca-pc-modal-url-trigger-input").val(""),t("#fca-pc-modal-exact_url-trigger-input").val(""),t("#fca-pc-modal-delay-input").val(0),t("#fca-pc-modal-scroll-input").val(0),e("Pinterest"),t("#fca-pc-modal-event-pixel-type").val("Pinterest"),t("#fca-pc-event-pixel-type-span").text("Pinterest"),t("#fca-pc-modal-event-input").val("ViewContentPinterest").trigger("change"),t(".fca-pc-param-toggle").not(":visible").trigger("click"),t("#fca-pc-event-modal").show(),t("#fca-pc-overlay").show()}),t("#fca_pc_new_snapchat_event").on("click",function(){t("#fca-pc-event-save").data("eventID",""),t(".fca-pc-currency").val(""),t(".fca-pc-predicted_ltv").val(""),t(".fca-pc-event_name").val(""),t("#fca-pc-modal-post-trigger-input").val("").trigger("change"),t("#fca-pc-modal-css-trigger-input").val(""),t("#fca-pc-modal-url-trigger-input").val(""),t("#fca-pc-modal-exact_url-trigger-input").val(""),t("#fca-pc-modal-delay-input").val(0),t("#fca-pc-modal-scroll-input").val(0),e("Snapchat"),t("#fca-pc-modal-event-pixel-type").val("Snapchat"),t("#fca-pc-event-pixel-type-span").text("Snapchat"),t("#fca-pc-modal-event-input").val("ViewContentSnapchat").trigger("change"),t(".fca-pc-param-toggle").not(":visible").trigger("click"),t("#fca-pc-event-modal").show(),t("#fca-pc-overlay").show()}),t("#fca_pc_new_pixel_id").on("click",function(){t("#fca-pc-pixel-save").data("pixelID",""),t("#fca-pc-modal-type-select").val("Facebook Pixel").trigger("change"),t("#fca-pc-modal-pixel-input").val(""),t("#fca-pc-modal-capi-input").val(""),t("#fca-pc-modal-test-input").val(""),t("#fca-pc-modal-ga3-input").val(""),t("#fca-pc-modal-ga4-input").val(""),t("#fca-pc-modal-adwords-input").val(""),t("#fca-pc-modal-pinterest-input").val(""),t("#fca-pc-modal-tiktok-input").val(""),t("#fca-pc-modal-header-code").val(""),t("#fca-pc-pixel-excluded-pages").val("").trigger("change"),t("#fca-pc-capi-input-tr").hide(),t("#fca-pc-test-input-tr").hide(),t("#fca-pc-pixel-modal").show(),t("#fca-pc-overlay").show()}),t("#fca-pc-modal-type-select").on("change",function(){var e=t(this).val();switch(t("#fca-pc-capi-input-tr").hide(),t("#fca-pc-test-input-tr").hide(),t("#fca-pc-pixel-input-tr").hide(),t("#fca-pc-ga3-input-tr").hide(),t("#fca-pc-ga4-input-tr").hide(),t("#fca-pc-adwords-input-tr").hide(),t(".fca-pc-header-input-tr").hide(),t("#fca_pc_capi_info").hide(),t("#fca-pc-pinterest-input-tr").hide(),t("#fca-pc-snapchat-input-tr").hide(),t("#fca-pc-tiktok-input-tr").hide(),e){case"Conversions API":t("#fca-pc-pixel-input-tr").show(),t("#fca-pc-capi-input-tr").show(),t("#fca-pc-test-input-tr").show(),t("#fca_pc_capi_info").show();break;case"Facebook Pixel":t("#fca-pc-pixel-input-tr").show();break;case"GA3":t("#fca-pc-ga3-input-tr").show();break;case"GA4":t("#fca-pc-ga4-input-tr").show();break;case"Adwords":t("#fca-pc-adwords-input-tr").show();break;case"Pinterest":t("#fca-pc-pinterest-input-tr").show();break;case"Snapchat":t("#fca-pc-snapchat-input-tr").show();break;case"TikTok":t("#fca-pc-tiktok-input-tr").show();break;case"Custom Header Script":t(".fca-pc-header-input-tr").show()}}),t("#fca_pc_woo_toggle_link").on("click",function(){t("#fca-pc-event-modal").hide(),t(".fca_pc_tooltip").tooltipster("hide"),t("#fca-pc-overlay").hide(),t("[data-target|='#fca-pc-e-commerce']").trigger("click")}),t("#fca-pc-event-cancel").on("click",function(){t("#fca-pc-event-modal").hide(),t(".fca_pc_tooltip").tooltipster("hide"),t("#fca-pc-overlay").hide()}),t("#fca-pc-pixel-cancel").on("click",function(){t("#fca-pc-pixel-modal").hide(),t(".fca_pc_tooltip").tooltipster("hide"),t("#fca-pc-overlay").hide()}),t(".fca-pc-edd_integration").on("click",function(){var e=l();-1!==e.indexOf("Facebook Pixel")||-1!==e.indexOf("Conversions API")||(alert("Please set up a Facebook Pixel to use this feature"),t(this).prop("checked",!1))}),t(".fca-pc-woo_integration").on("click",function(){var e=l();-1!==e.indexOf("Facebook Pixel")||-1!==e.indexOf("Conversions API")||(alert("Please set up a Facebook Pixel to use this feature"),t(this).prop("checked",!1))}),t(".fca-pc-edd_integration_ga").on("click",function(){var e=l();-1!==e.indexOf("GA3")||-1!==e.indexOf("GA4")||-1!==e.indexOf("Adwords")||(alert("Please set up a Google Analytics pixel to use this feature"),t(this).prop("checked",!1))}),t(".fca-pc-woo_integration_ga").on("click",function(){var e=l();-1!==e.indexOf("GA3")||-1!==e.indexOf("GA4")||-1!==e.indexOf("Adwords")||(alert("Please set up a Google Analytics pixel to use this feature"),t(this).prop("checked",!1))}),t(".fca-pc-woo_integration_pinterest").on("click",function(){-1!==l().indexOf("Pinterest")||(alert("Please set up your Pinterest Tag ID to use this feature"),t(this).prop("checked",!1))}),t(".fca-pc-edd_integration_pinterest").on("click",function(){-1!==l().indexOf("Pinterest")||(alert("Please set up your Pinterest Tag ID to use this feature"),t(this).prop("checked",!1))}),t(document).on("keyup",function(e){var c=t(e.target).hasClass("select2-search__field");"Escape"!=e.key||c||(t("#fca-pc-event-modal").is(":visible")&&t("#fca-pc-event-cancel").trigger("click"),t("#fca-pc-pixel-modal").is(":visible")&&t("#fca-pc-pixel-cancel").trigger("click"))}),t("#fca-pc-pixel-save").on("click",function(){var e=t("#fca-pc-modal-type-select").val();if(t(".fca_pc_tooltip").tooltipster("hide"),t(".fca-pc-validation-helptext").tooltipster("hide"),"Facebook Pixel"!==e||""!=t("#fca-pc-modal-pixel-input").val())if("Pinterest"!==e||""!=t("#fca-pc-modal-pinterest-input").val())if("Conversions API"!==e||""!=t("#fca-pc-modal-capi-input").val())if("GA3"!==e||""!=t("#fca-pc-modal-ga3-input").val())if("GA4"!==e||""!=t("#fca-pc-modal-ga4-input").val())if("Adwords"!==e||""!=t("#fca-pc-modal-adwords-input").val())if("TikTok"!==e||""!=t("#fca-pc-modal-tiktok-input").val())if("Custom Header Script"!==e||""!=t("#fca-pc-modal-header-code").val()){var c={};switch(c.type=t("#fca-pc-modal-type-select").val(),c.capi="",c.test="",c.type){case"Conversions API":c.test=t("#fca-pc-modal-test-input").val(),c.pixel=t("#fca-pc-modal-pixel-input").val(),c.capi=t("#fca-pc-modal-capi-input").val();break;case"GA3":c.pixel=t("#fca-pc-modal-ga3-input").val();break;case"GA4":c.pixel=t("#fca-pc-modal-ga4-input").val();break;case"Adwords":c.pixel=t("#fca-pc-modal-adwords-input").val();break;case"Pinterest":c.pixel=t("#fca-pc-modal-pinterest-input").val();break;case"Snapchat":c.pixel=t("#fca-pc-modal-snapchat-input").val();break;case"TikTok":c.pixel=t("#fca-pc-modal-tiktok-input").val();break;case"Custom Header Script":c.capi=i(t("#fca-pc-modal-header-code").val()),c.pixel=i(t("#fca-pc-modal-header-code").val().substr(0,48));break;default:c.pixel=t("#fca-pc-modal-pixel-input").val()}c.excludes=t("#fca-pc-pixel-excluded-pages").val(),t(this).data("pixelID")?(c.ID=t(this).data("pixelID"),c.paused=t("#"+c.ID).hasClass("paused"),n(t("#"+c.ID),c)):(c.paused=!1,c.ID=r(),n(!1,c)),t(".fca_pc_onboarding").hide(),t("#fca-pc-events-table").removeClass("disabled"),t("#fca-pc-overlay").hide(),t("#fca-pc-pixel-modal").hide(),a()}else alert("Please enter a value for header script");else alert("Please enter the Pixel ID");else alert("Google Ads Property ID is required for this pixel type");else alert("Google Analytics Property ID is required for this pixel type");else alert("Google Universal Analytics ID is required for this pixel type");else alert("Conversions API Token is required for this pixel type");else alert("Please enter the Pixel ID");else alert("Please enter the Pixel ID")}),t("#fca-pc-event-save").on("click",function(){var e=!0;t(".fca_pc_tooltip").tooltipster("hide");switch(t("#fca-pc-modal-trigger-type-input").val()){case"post":selected=t("#fca-pc-modal-post-trigger-input").val(),0===selected.length&&(t("#fca-pc-modal-post-trigger-input").closest("tr").find(".fca_pc_tooltip").tooltipster("show"),e=!1);break;case"css":case"hover":selected=t("#fca-pc-modal-css-trigger-input").val(),0===selected.length&&(t("#fca-pc-modal-css-trigger-input").closest("tr").find(".fca_pc_tooltip").tooltipster("show"),e=!1);break;case"url":selected=t("#fca-pc-modal-url-trigger-input").val(),0===selected.length&&(t("#fca-pc-modal-url-trigger-input").closest("tr").find(".fca_pc_tooltip").tooltipster("show"),e=!1);break;case"exact_url":selected=t("#fca-pc-modal-exact_url-trigger-input").val(),0===selected.length&&(t("#fca-pc-modal-exact_url-trigger-input").closest("tr").find(".fca_pc_tooltip").tooltipster("show"),e=!1)}if(t(".fca-required-param").each(function(){t(this).find("input").val()||(t("#fca-pc-show-param").trigger("click"),t(this).find(".fca_pc_tooltip").tooltipster("show"),e=!1)}),t(".fca-pc-event_name").val()||"custom"!==t("#fca-pc-modal-event-input").val()||(t(".fca-pc-event_name").closest("tr").find(".fca_pc_tooltip").tooltipster("show"),e=!1),!e)return!1;var c={};switch(c.triggerType=t("#fca-pc-modal-trigger-type-input").val(),c.triggerType){case"css":case"hover":c.trigger=t("#fca-pc-modal-css-trigger-input").val();break;case"post":c.trigger=t("#fca-pc-modal-post-trigger-input").val();break;case"url":c.trigger=t("#fca-pc-modal-url-trigger-input").val();break;case"exact_url":c.trigger=t("#fca-pc-modal-exact_url-trigger-input").val()}if(c.parameters={},c.pixel_type=t("#fca-pc-modal-event-pixel-type").val(),"custom"===t("#fca-pc-modal-event-input").val())c.event=t(".fca-pc-event_name").val();else{c.event=t("#fca-pc-modal-event-input").val();for(var a=0;a<basic_params.length;a++){var n=basic_params[a];supported_params[c.event][n]>0&&""!=t(".fca-pc-"+n).val()&&(c.parameters[n]=t(".fca-pc-"+n).val())}}t(".fca-pc-input-parameter-name").each(function(e,a){var n=t(this).val(),i=t(this).parent("td").next().find(".fca-pc-input-parameter-value").val();n&&i&&(c.parameters[n]=i)}),c.delay=t("#fca-pc-modal-delay-input").val(),c.scroll=t("#fca-pc-modal-scroll-input").val(),c.apiAction="custom"===t("#fca-pc-modal-event-input").val()?"trackCustom":"track",t(this).data("eventID")?(c.ID=t(this).data("eventID"),c.paused=t("#"+c.ID).hasClass("paused"),p(t("#"+c.ID),c)):(c.ID=r(),p(!1,c)),t("#fca-pc-overlay").hide(),t("#fca-pc-event-modal").hide()}),t("#fca-pc-modal-event-input").on("change",function(){var e=t(this).val();t(".fca-active-param").removeClass("fca-active-param"),t(".fca-required-param").removeClass("fca-required-param"),t(".fca_pc_tooltip").tooltipster("hide"),t("#fca-pc-hide-param").trigger("click"),t("#fca_pc_tooltip_viewcontent, #fca_pc_tooltip_lead").hide(),t(".fca-required-param-tooltip").hide();for(item in supported_params[e])supported_params[e][item]>0&&(t("#fca_pc_param_"+item).addClass("fca-active-param"),2===supported_params[e][item]&&(t("#fca_pc_param_"+item).addClass("fca-required-param"),t(".fca-required-param-tooltip").show(),t("#fca-pc-show-param").trigger("click")));"post"===t("#fca-pc-modal-trigger-type-input").val()||"exact_url"===t("#fca-pc-modal-trigger-type-input").val()?(t("#fca-pc-modal-delay-input, #fca-pc-modal-scroll-input").closest("tr").show(),t("#fca_pc_tooltip_viewcontent").show()):(t("#fca-pc-modal-delay-input, #fca-pc-modal-scroll-input").closest("tr").hide(),t("#fca_pc_tooltip_lead").show()),t("#fca_pc_param_custom").addClass("fca-active-param"),"custom"===e?t("#fca_pc_param_event_name").show():t("#fca_pc_param_event_name").hide()}),t(".fca-pc-param-toggle").on("click",function(){t(".fca-pc-param-row").hide(),"fca-pc-show-param"===t(this).attr("id")?(t("#fca-pc-show-param").hide(),t("#fca-pc-hide-param").show(),t("#fca-pc-param-help").show(),t(".fca-active-param").show()):(t("#fca-pc-hide-param").hide(),t("#fca-pc-show-param").show(),t("#fca-pc-param-help").hide())}),t(".fca-pc-woo_feed").on("change",function(){this.checked?t(".fca-pc-woo-feed-settings").not(".fca-pc-woo-advanced-feed-settings").show("fast"):t(".fca-pc-woo-feed-settings").hide("fast")}).trigger("change"),t(".fca-pc-feed-toggle").on("click",function(){t(".fca-pc-feed-toggle").hide(),"fca-pc-show-feed-settings"===t(this).attr("id")?(t("#fca-pc-show-feed-settings").hide(),t("#fca-pc-hide-feed-settings").show(),t(".fca-pc-woo-advanced-feed-settings").show()):(t("#fca-pc-show-feed-settings").show(),t("#fca-pc-hide-feed-settings").hide(),t(".fca-pc-woo-advanced-feed-settings").hide())}),t(".fca-pc-edd_feed").on("change",function(){this.checked?t(".fca-pc-edd-feed-settings").show("fast"):t(".fca-pc-edd-feed-settings").hide("fast")}).trigger("change"),fcaPcAdminData.premium&&t("#fca-pc-add-custom-param").on("click",function(){t("#fca_pc_custom_param_table").append(fcaPcPremiumData.customParamTemplate),c()}),t("#fca-pc-modal-trigger-type-input").on("change",function(){t(".fca_pc_multiselect").select2("close"),t("#fca-pc-post-input-tr, #fca-pc-css-input-tr, #fca-pc-url-input-tr, #fca-pc-exact_url-input-tr").hide(),t("#fca-pc-modal-event-input").trigger("change"),t("#fca-pc-"+t(this).val()+"-input-tr").show(),"hover"===t(this).val()&&t("#fca-pc-css-input-tr").show()}).trigger("change"),c();var d=null;window.onbeforeunload=function(){return d},t("input, select").on("input, change",function(){d=!0}),t("#fca_pc_save").on("click",function(){d=null}),t("#fca_pc_main_form, #fca-pc-marketing-metabox").show(),0===t(".fca-pc-pixel-json").length?(t("#fca_pc_new_pixel_id").trigger("click"),t("#fca-pc-events-table").addClass("disabled")):t(".fca_pc_onboarding").hide(),a();for(var _=[],f=0;f<256;f++)_[f]=(f<16?"0":"")+f.toString(16)});